<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Detector de Gastos ‚Äì 7 Dias</title>
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background:#f5f7fa;color:#333;padding:20px;max-width:600px;margin:auto}
    h1,h2{color:#111}
    .item{display:flex;align-items:center;justify-content:space-between;margin:10px 0}
    input[type=number]{width:80px;padding:4px}
    button{background:#111;color:#fff;border:none;padding:12px 24px;border-radius:4px;font-size:16px;cursor:pointer}
    #resultado{background:#fff;padding:15px;border-radius:8px;margin-top:20px}
    #shareCanvas{border:1px solid #ddd;margin-top:15px;border-radius:8px}
  </style>
</head>
<body>
  <h1>üïµÔ∏è‚Äç‚ôÇÔ∏è Detector de Gastos ‚Äì 7 Dias</h1>
  <p>Quanto voc√™ pode <strong>resgatar</strong> por m√™s?</p>

  <div id="formulario">
    <div class="item">
      <label>Caf√©/tralhas (R$/dia)</label>
      <input id="cafe" type="number" min="0" step="0.5" value="8">
    </div>
    <div class="item">
      <label>Delivery refei√ß√µes (R$/semana)</label>
      <input id="deli" type="number" min="0" step="1" value="60">
    </div>
    <div class="item">
      <label>Estacionamento extra (R$/semana)</label>
      <input id="est" type="number" min="0" step="1" value="40">
    </div>
    <div class="item">
      <label>Assinaturas esquecidas (R$/m√™s)</label>
      <input id="assi" type="number" min="0" step="1" value="35">
    </div>
    <div class="item">
      <label>Apps/addons (R$/m√™s)</label>
      <input id="apps" type="number" min="0" step="1" value="20">
    </div>
    <div class="item">
      <label>Carona/uber extra (R$/semana)</label>
      <input id="uber" type="number" min="0" step="1" value="30">
    </div>
    <button onclick="calcular()">Calcular meu resgate</button>
  </div>

  <div id="resultado" style="display:none">
    <h2>üí∞ Seu potencial por m√™s</h2>
    <p><strong id="total"></strong></p>
    <p>Se investir 100 % disso a <strong>1 % a.m.</strong> ter√° cerca de <strong id="futuro"></strong> em 1 ano.</p>
    <button onclick="compartilhar()">üì≤ Copiar imagem + texto para stories</button>
  </div>

  <canvas id="shareCanvas" width="600" height="600" style="display:none"></canvas>

  <footer style="margin-top:40px;font-size:12px;text-align:center;opacity:.7">
    An√°lise criada por <strong>Evandro ‚Äì @evandro.financas</strong>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    function calcular(){
      const cafe = parseFloat(document.getElementById('cafe').value) * 22;
      const deli = parseFloat(document.getElementById('deli').value) * 4;
      const est  = parseFloat(document.getElementById('est').value) * 4;
      const assi = parseFloat(document.getElementById('assi').value);
      const apps = parseFloat(document.getElementById('apps').value);
      const uber = parseFloat(document.getElementById('uber').value) * 4;
      const total = cafe + deli + est + assi + apps + uber;
      document.getElementById('total').innerText   = `R$ ${total.toFixed(2)} por m√™s`;
      document.getElementById('futuro').innerText  = `R$ ${(total*12*1.1268).toFixed(0)}`;
      document.getElementById('resultado').style.display = 'block';
      window.totalValor = total.toFixed(0);
    }
    function compartilhar(){
      const canvas = document.getElementById('shareCanvas');
      const ctx    = canvas.getContext('2d');
      ctx.fillStyle = '#111';
      ctx.fillRect(0,0,600,600);
      ctx.fillStyle = '#fff';
      ctx.textAlign = 'center';
      ctx.font = 'bold 48px sans-serif';
      ctx.fillText('DETECTOR DE GASTOS',300,120);
      ctx.font = '30px sans-serif';
      ctx.fillText('Voc√™ pode resgatar:',300,200);
      ctx.font = 'bold 80px sans-serif';
      ctx.fillText('R$ '+window.totalValor,300,300);
      ctx.font = '28px sans-serif';
      ctx.fillText('por m√™s!',300,350);
      ctx.font = '24px sans-serif';
      ctx.fillText('@evandro.financas',300,480);
      canvas.toBlob(function(blob){
        const item = new ClipboardItem({'image/png':blob});
        navigator.clipboard.write([item]);
        alert('üì∏ Imagem copiada! Cole nos seus stories e me marque.');
      });
    }
  </script>
</body>
</html>
